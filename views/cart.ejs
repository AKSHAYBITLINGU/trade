<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shopping Cart</title>
    <link rel="stylesheet" href="/css/cart.css" />
    <!-- Link to the external stylesheet -->
  </head>
  <body>
    <h1>My Cart</h1>

    <div class="cart-items">
      <% if (cartItems.length === 0) { %>
      <p>Your cart is currently empty.</p>
      <% } else { %> <% let totalCost = 0; %> <% for (const item of cartItems) {
      %>
      <div class="cart-item">
        <img
          src="<%= item.image %>"
          alt="<%= item.name %>"
          class="cart-image"
        />
        <div class="cart-item-details">
          <h3><%= item.name %></h3>
          <p>Price: <%= item.price %></p>
          <p>Quantity: <%= item.quantity %></p>
          <p>Subtotal: <%= (item.price * item.quantity).toFixed(2) %></p>
        </div>
        <% totalCost += item.price * item.quantity; %>
      </div>
      <% } %>
      <div class="cart-total">
        <h3>Total Cost: <%= totalCost.toFixed(2) %></h3>
      </div>
      <% } %>
    </div>

    <div class="cart-controls">
      <!-- Flexbox to align buttons -->
      <a href="/" class="shopping-button">Continue Shopping</a>
      <% if (cartItems.length > 0) { %>
      <a href="/checkout" class="shopping-button">Checkout</a>
      <% } %>
    </div>
  </body>
</html>
